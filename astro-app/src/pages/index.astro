---
import "@fontsource/oswald/variable.css"
import "@fontsource/rubik/variable.css"
import { ClockList } from "../clocks/clock-list"
import { prisma } from "../prisma/client"
import Card from "../ui/card.astro"

export type Props = {
  title?: string
  description?: string
}

const appName = "Charge Worlds"
const appDescription = "Virtual environment for the Charge RPG system"

const title = [Astro.props.title, appName].filter(Boolean).join(" | ")

const description = [Astro.props.description, appDescription]
  .filter(Boolean)
  .join(" | ")

const defaultWorldId = "default"

const clocks = await prisma.clock.findMany({
  where: { worldId: defaultWorldId },
})
---

<html lang="en" class="bg-gray-800 text-gray-100 font-body">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />

    <meta name="title" content={title} />
    <meta name="description" content={description} />

    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.site} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <!-- <meta
      property="og:image"
      content="https://metatags.io/assets/meta-tags-16a33a6a8531e519cc0936fbba0ad904e52d35f34a46c97a2c9f6f7dd7d336f2.png"
    /> -->

    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={Astro.site} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <!-- <meta
      property="twitter:image"
      content="https://metatags.io/assets/meta-tags-16a33a6a8531e519cc0936fbba0ad904e52d35f34a46c97a2c9f6f7dd7d336f2.png"
    /> -->

    <title>{title}</title>

    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  </head>
  <body class="px-4 py-16 max-w-screen-md mx-auto grid gap-8">
    <main class="grid gap-8">
      <Card title="Eveline City">
        <p>
          Sit aliqua cillum et irure reprehenderit irure tempor eu amet. Tempor
          sunt excepteur tempor sint culpa irure. Cillum esse laboris sunt esse.
          Deserunt cillum cupidatat aliqua consequat aliqua esse deserunt
          laboris magna aliqua ex nostrud anim est.
        </p>
        <p>
          Fugiat tempor nostrud Lorem est dolor deserunt eu fugiat nostrud sint
          quis id elit. Dolore culpa sit tempor sunt mollit eu ad ea. Dolore do
          deserunt sit enim deserunt proident quis adipisicing ad culpa anim.
          Nostrud in culpa veniam elit cupidatat ad fugiat nostrud qui et
          incididunt officia mollit mollit. Consectetur magna magna enim aliquip
          incididunt. Reprehenderit culpa laboris exercitation nostrud. Ea sint
          ullamco velit nostrud ipsum.
        </p>
      </Card>
      <Card title="Clocks">
        <ClockList client:only="react" clocks={clocks} />
      </Card>
      <Card title="Characters">
        <p>
          Sit aliqua cillum et irure reprehenderit irure tempor eu amet. Tempor
          sunt excepteur tempor sint culpa irure. Cillum esse laboris sunt esse.
          Deserunt cillum cupidatat aliqua consequat aliqua esse deserunt
          laboris magna aliqua ex nostrud anim est.
        </p>
        <p>
          Fugiat tempor nostrud Lorem est dolor deserunt eu fugiat nostrud sint
          quis id elit. Dolore culpa sit tempor sunt mollit eu ad ea. Dolore do
          deserunt sit enim deserunt proident quis adipisicing ad culpa anim.
          Nostrud in culpa veniam elit cupidatat ad fugiat nostrud qui et
          incididunt officia mollit mollit. Consectetur magna magna enim aliquip
          incididunt. Reprehenderit culpa laboris exercitation nostrud. Ea sint
          ullamco velit nostrud ipsum.
        </p>
      </Card>
    </main>
  </body>
</html>
